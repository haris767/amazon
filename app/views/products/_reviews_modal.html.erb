
<!------Detail page for reviews show all reviews by pop up------->
<% if content_params[:product].reviews.count ==0%>
<span class="text-2xl font-medium leading-6 text-gray-900 flex items-center">
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          viewBox="0 0 32 32" 
          aria-hidden="true" 
          role="presentation" 
          focusable="false" 
          class="inline h-6 w-6 fill-current me-2"
        >
            <path d="m10.66 9.74-8.23 1-.15.02a2 2 0 0 0-.93 3.47l6.2 5.46-2 8.52-.03.15a2 2 0 0 0 2.96 2.05L16 26.15l7.52 4.26.13.07a2 2 0 0 0 2.8-2.27l-2-8.52 6.2-5.46.11-.11a2 2 0 0 0-1.19-3.38l-8.23-1-3.53-7.55a2 2 0 0 0-3.62 0zM12 11.59l4-8.56 4 8.56 9.33 1.13-7.1 6.26 2.27 9.69-8.5-4.82-8.5 4.82 2.28-9.7-7.11-6.25z"></path>
        </svg>
        No reviews (yet)
      </span>
    <% else %>
<div>
  <button data-action="click->modal#toggleModal" type="button" class="relative rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
    <span class="absolute -inset-2.5"></span>
    <span class="sr-only">Close panel</span>
    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
      <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
    </svg>
  </button>
  <div class="grid grid-cols-6 gap-8">
    <!-- Review Stats -->
    <section aria-labelledby="reviews-stats" class="col-span-2 pt-10 pb-10">
     <div class="flex items-center mt-1">
     <div class="flex text-yellow-500">
      <% if content_params[:product].average_final_rating.present? %>
              <% full_stars = content_params[:product].average_final_rating.floor %>
              <% half_star = (content_params[:product].average_final_rating.round(2) % 1) >= 0.5 %>
              <% empty_stars = 5 - full_stars - (half_star ? 1 : 0) %>
              <% full_stars.times { %><span>&#9733;</span><% } %>
              <% if half_star %><span>&#9733;&#xFE0E;</span><% end %>
              <% empty_stars.times { %><span class="text-gray-300">&#9733;</span><% } %>
              <%end%>
              <!------------flex items-center mt-1 end div--------->
             </div>
              <span class="text-black"><%= (content_params[:product].average_final_rating).round(2) %> out of 5</span>
              <!------------flex text-yellow-500 end div--------->
              </div>
                 

</div>

<div class="review-modal">
  <% content_params[:product].review_percentages.sort.reverse.each do |star, percentage| %>
    <div class="flex items-center space-x-2">
      <span class="w-12 text-right"><%= star %> star</span>
      <div class="w-48 h-4 bg-gray-200 rounded overflow-hidden">
        <div class="h-full bg-orange-500" style="width: <%= percentage %>%"></div>
      </div>
      <span><%= percentage %>%</span>
    </div>
  <% end %>
</div>
<%end%>