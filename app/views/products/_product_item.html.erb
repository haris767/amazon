<%= link_to subcategory_product_path(product.subcategory, product) do%>
  <div class="group relative cursor-pointer " >
    <div class="relative overflow-hidden rounded-md bg-gray-200">

     <div class="swiper"  style="height:250px;">
        <!-- Additional required wrapper -->
        <div class="swiper-wrapper">
          <% product.images.each do |image| %>
             <%= image_tag image, id: "product-image", class:'swiper-slide',
                  style: "cursor: pointer;  border-radius: 8px;"%>
          <% end %>
        </div>
        
        <%# TODO: Swiper buttons are not working %>
        <!-- If we need navigation buttons -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>

        </div>

        <div class="mt-2">
      <div class="flex justify-between">
        <h3 class="text-base font-medium text-gray-700 line-clamp-1">
           <%= country_name(product.country_code) %>
        </h3>
        <p class="flex items-center text-sm font-light">
          <svg
            class="mr-1 block w-3 h-3 fill-current"
            xmlns="http://www.w3.org/2000/svg" 
            viewBox="0 0 32 32" 
            aria-hidden="true" 
            role="presentation" 
            focusable="false" 
            style="width: 15px;"
          >
            <path fill-rule="evenodd" d="m15.1 1.58-4.13 8.88-9.86 1.27a1 1 0 0 0-.54 1.74l7.3 6.57-1.97 9.85a1 1 0 0 0 1.48 1.06l8.62-5 8.63 5a1 1 0 0 0 1.48-1.06l-1.97-9.85 7.3-6.57a1 1 0 0 0-.55-1.73l-9.86-1.28-4.12-8.88a1 1 0 0 0-1.82 0z"></path>
          </svg>
          <% if product.reviews_count > 0 %>
            <%= product.average_final_rating.round(2) %> (<%= product.reviews_count %>)
          <% else %>
            New
          <% end %>
        </p>
      </div>


        <% if minimal_details %>
        <p class="mt-0.5 text-sm text-gray-500"><%= product.size.first %></p>
        <p class="mt-0.5 text-sm text-gray-500"><%= product.style.first %></p>
      <% else %>
        <p class="mt-0.5 text-sm text-gray-500"><%= product.color %></p>
        <p class="mt-0.5 text-sm text-gray-500"><%= product.ear_placement %></p>
        <p class="mt-0.5 text-sm text-gray-500"><%= product.form_factor %></p>
        <p class="mt-0.5 text-sm text-gray-500"><%= product.impedance %></p>
        <p class="mt-0.5 text-sm font-light text-black">
          <span class="font-medium"><%= humanized_money_with_symbol(product.price) %></span>
        </p>
      <% end %>
    </div>
  </div>
<% end %>